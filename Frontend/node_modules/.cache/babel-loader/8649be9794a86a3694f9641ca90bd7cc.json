{"ast":null,"code":"import _objectSpread from \"/Users/sergebyusa/Desktop/Projects/book_practice_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _readOnlyError from \"/Users/sergebyusa/Desktop/Projects/book_practice_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/readOnlyError\";\nvar _this = this,\n  _jsxFileName = \"/Users/sergebyusa/Desktop/Projects/book_practice_js/src/Pages/SignupPage.js\";\n// import React, { useState } from 'react'\n// import { useDispatch, useSelector } from 'react-redux'\n// import { authActions } from '../store/auth' \n\n// const SignupPage = () => {\n//     const [email, setEmail] = useState(\"\")\n//     const [password, setPassword] = useState(\"\")\n//     const dispatch = useDispatch()\n//     const isAuth = useSelector( state => state.auth.isAuthenticated )\n\n//     const emailChangeHandler = (event) => {\n//         setEmail(event.target.value)\n//     }\n//     const passwordChangeHandler = (event) => {\n//         setPassword(event.target.value)\n//     }\n//     const loginHandler = (event) => {\n//         event.preventDefault()\n//         console.log(email)\n//         console.log(password)\n//         console.log(isAuth)\n//         dispatch(authActions.login())\n//     }\n\n//     return (\n//         <form onSubmit={loginHandler}>\n//             <div>\n//                 <label htmlFor='email'> Email </label>\n//                 <input type='email' id='email' value={email} onChange={emailChangeHandler}/>\n//             </div>\n//             <div>\n//                 <label htmlFor='Password'> Password </label>\n//                 <input type='password' id='password' value={password} onChange={passwordChangeHandler}/>\n//             </div>\n//             <div>\n//                 <button>Login</button>\n//             </div>\n//         </form>\n//     )\n\n// }\n// export default SignupPage\n\nimport React from 'react';\nimport { Button, Form, Input, Checkbox } from 'antd';\nimport { authActions } from '../store/auth';\nimport { useDispatch } from 'react-redux';\nimport { Space, Typography } from 'antd';\nimport { useNavigate } from 'react-router-dom';\nvar Title = Typography.Title,\n  Text = Typography.Text;\nvar layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\n\n/* eslint-disable no-template-curly-in-string */\nvar validateMessages = {\n  required: '${label} is required!',\n  types: {\n    email: '${label} is not a valid email!',\n    number: '${label} is not a valid number!'\n  },\n  number: {\n    range: '${label} must be between ${min} and ${max}'\n  }\n};\n/* eslint-enable no-template-curly-in-string */\n\nvar SignupPage = function SignupPage() {\n  var navigate = useNavigate();\n  var dispatch = useDispatch();\n  var onFinish = function onFinish(values) {\n    console.log(values);\n    var enteredEmail = values.email;\n    var enteredPassword = values.password;\n    var token = null;\n    var url = \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=\".concat(process.env.REACT_APP_FIREBASE_API_KEY);\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true\n      })\n    }).then(function (res) {\n      if (res.ok) {\n        return res.json();\n      } else {\n        res.json().then(function (data) {\n          var errorMessage = \"Authentication failed\";\n          if (data && data.error && data.error.message) {\n            errorMessage = data.error.message;\n          }\n          alert(errorMessage);\n          throw new Error(errorMessage);\n        });\n      }\n    }).then(function (data) {\n      console.log(data);\n      data.access, _readOnlyError(\"token\");\n      localStorage.setItem('token', token);\n      dispatch(authActions.login());\n      navigate('/');\n    }).catch(function (err) {\n      console.log(err);\n      alert(err);\n    });\n  };\n  return /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    style: {\n      width: '100%',\n      height: '100vh',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"Welcome back\"), /*#__PURE__*/React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"Please enter your details\")), /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, Object.assign({}, layout, {\n    name: \"nest-messages\",\n    onFinish: onFinish,\n    validateMessages: validateMessages,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Item, {\n    name: ['user', 'email'],\n    label: \"Email\",\n    rules: [{\n      required: true,\n      type: 'email'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: ['user', 'password'],\n    label: \"Password\",\n    rules: [{\n      required: true\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"remember\",\n    valuePropName: \"checked\"\n    // wrapperCol={{\n    // offset: 8,\n    // span: 16,\n    // }}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, \"Remember me\")), /*#__PURE__*/React.createElement(Form.Item, {\n    wrapperCol: _objectSpread({}, layout.wrapperCol, {\n      offset: 8\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }, \"Register\")))));\n};\nexport default SignupPage;","map":{"version":3,"names":["React","Button","Form","Input","Checkbox","authActions","useDispatch","Space","Typography","useNavigate","Title","Text","layout","labelCol","span","wrapperCol","validateMessages","required","types","email","number","range","SignupPage","navigate","dispatch","onFinish","values","console","log","enteredEmail","enteredPassword","password","token","url","process","env","REACT_APP_FIREBASE_API_KEY","fetch","method","headers","body","JSON","stringify","returnSecureToken","then","res","ok","json","data","errorMessage","error","message","alert","Error","access","localStorage","setItem","login","catch","err","width","height","justifyContent","alignItems","type","offset"],"sources":["/Users/sergebyusa/Desktop/Projects/book_practice_js/src/Pages/SignupPage.js"],"sourcesContent":["// import React, { useState } from 'react'\n// import { useDispatch, useSelector } from 'react-redux'\n// import { authActions } from '../store/auth' \n\n// const SignupPage = () => {\n//     const [email, setEmail] = useState(\"\")\n//     const [password, setPassword] = useState(\"\")\n//     const dispatch = useDispatch()\n//     const isAuth = useSelector( state => state.auth.isAuthenticated )\n\n//     const emailChangeHandler = (event) => {\n//         setEmail(event.target.value)\n//     }\n//     const passwordChangeHandler = (event) => {\n//         setPassword(event.target.value)\n//     }\n//     const loginHandler = (event) => {\n//         event.preventDefault()\n//         console.log(email)\n//         console.log(password)\n//         console.log(isAuth)\n//         dispatch(authActions.login())\n//     }\n\n//     return (\n//         <form onSubmit={loginHandler}>\n//             <div>\n//                 <label htmlFor='email'> Email </label>\n//                 <input type='email' id='email' value={email} onChange={emailChangeHandler}/>\n//             </div>\n//             <div>\n//                 <label htmlFor='Password'> Password </label>\n//                 <input type='password' id='password' value={password} onChange={passwordChangeHandler}/>\n//             </div>\n//             <div>\n//                 <button>Login</button>\n//             </div>\n//         </form>\n//     )\n\n// }\n// export default SignupPage\n\n\nimport React from 'react';\nimport { Button, Form, Input, Checkbox } from 'antd';\nimport { authActions } from '../store/auth' \nimport { useDispatch } from 'react-redux'\nimport { Space, Typography } from 'antd';\nimport { useNavigate } from 'react-router-dom';\n\nconst { Title, Text } = Typography;\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\n\n/* eslint-disable no-template-curly-in-string */\nconst validateMessages = {\n  required: '${label} is required!',\n  types: {\n    email: '${label} is not a valid email!',\n    number: '${label} is not a valid number!',\n  },\n  number: {\n    range: '${label} must be between ${min} and ${max}',\n  },\n};\n/* eslint-enable no-template-curly-in-string */\n\nconst SignupPage = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch()\n\n  const onFinish = (values) => {\n    console.log(values);\n    const enteredEmail = values.email\n    const enteredPassword = values.password\n    const token = null\n    const url = `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${process.env.REACT_APP_FIREBASE_API_KEY}`\n    fetch(url, \n        {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: enteredEmail,\n                password: enteredPassword,\n                returnSecureToken: true,\n            }), \n    }).then(res => {\n        if (res.ok) {\n            return res.json();\n        }else{\n            res.json().then(data => {\n               let errorMessage = \"Authentication failed\";\n               if (data && data.error && data.error.message) {\n                     errorMessage = data.error.message;\n               }\n               alert(errorMessage);\n               throw new Error(errorMessage);\n            })\n        }\n    }).then(data => {\n        console.log(data)\n        token = data.access\n        localStorage.setItem('token', token)\n        dispatch(authActions.login())\n        navigate('/')\n    })\n    .catch(err => {\n        console.log(err)\n        alert(err)\n    })\n  };\n  return (\n    <Space direction=\"vertical\" style={{width: '100%', height: '100vh', justifyContent: 'center', alignItems: 'center'}}>\n            <Space direction=\"vertical\">\n                <Title level={2}>Welcome back</Title>\n                <Text>Please enter your details</Text>\n            </Space>\n            <Space direction=\"vertical\">\n                <Form {...layout} name=\"nest-messages\" onFinish={onFinish} validateMessages={validateMessages}>\n                    <Form.Item\n                        name={['user', 'email']}\n                        label=\"Email\"\n                        rules={[\n                        {\n                            required: true,\n                            type: 'email',\n                        },\n                        ]}\n                    >\n                        <Input />\n                    </Form.Item>\n                    <Form.Item\n                        name={['user', 'password']}\n                        label=\"Password\"\n                        rules={[\n                        {\n                            required: true,\n                        },\n                        ]}\n                    >\n                        <Input.Password />\n                    </Form.Item>\n                    {/* <Form.Item\n                        name={['user', 'password2']}\n                        label=\"Confirm Password\"\n                        rules={[\n                        {\n                            required: true,\n                        },\n                        ]}\n                    >\n                        <Input.Password />\n                    </Form.Item> */}\n\n                    <Form.Item\n                        name=\"remember\"\n                        valuePropName=\"checked\"\n                        // wrapperCol={{\n                        // offset: 8,\n                        // span: 16,\n                        // }}\n                    >\n                        <Checkbox>Remember me</Checkbox>\n                    </Form.Item>\n                    <Form.Item\n                        wrapperCol={{\n                        ...layout.wrapperCol,\n                        offset: 8,\n                        }}\n                    >\n                        <Button type=\"primary\" htmlType=\"submit\">\n                        Register\n                        </Button>\n                    </Form.Item>\n                    \n                </Form>\n            </Space>\n        </Space>\n  );\n};\nexport default SignupPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}