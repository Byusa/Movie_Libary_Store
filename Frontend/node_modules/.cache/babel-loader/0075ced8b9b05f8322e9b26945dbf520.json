{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nvar retrieveToken = function retrieveToken() {\n  var token = localStorage.getItem('token');\n  if (token) {\n    return token;\n  }\n  return null;\n};\nvar intialAuthState = {\n  isAuthenticated: false,\n  token: null\n};\nvar authSlice = createSlice({\n  name: 'authentication',\n  initialState: intialAuthState,\n  reducers: {\n    login: function login(state, action) {\n      var token = retrieveToken();\n      if (token) {\n        state.isAuthenticated = true;\n        state.token = token;\n      }\n      localStorage.setItem('token', action.payload.token);\n      state.token = action.payload.token;\n      state.isAuthenticated = true;\n    },\n    logout: function logout(state) {\n      localStorage.removeItem('token');\n      state.isAuthenticated = false;\n      state.token = null;\n    }\n  }\n});\nexport var authActions = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","retrieveToken","token","localStorage","getItem","intialAuthState","isAuthenticated","authSlice","name","initialState","reducers","login","state","action","setItem","payload","logout","removeItem","authActions","actions","reducer"],"sources":["/Users/sergebyusa/Desktop/Projects/book_practice_js/src/store/auth.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nconst retrieveToken = () => {\n    const token = localStorage.getItem('token')\n    if (token) {\n        return token\n    }\n    return null\n}\nconst intialAuthState = { isAuthenticated : false, token: null }\nconst authSlice = createSlice({\n    name: 'authentication',\n    initialState: intialAuthState,\n    reducers: {\n        login(state, action) {\n            const token = retrieveToken()\n            if (token) {\n                state.isAuthenticated = true\n                state.token = token\n            }\n            localStorage.setItem('token', action.payload.token)\n            state.token = action.payload.token;\n            state.isAuthenticated = true;\n        },\n        logout(state) { \n            localStorage.removeItem('token')\n            state.isAuthenticated = false\n            state.token = null\n        }\n    }\n})\nexport const authActions = authSlice.actions;\nexport default authSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,IAAMC,aAAa,GAAG,SAAhBA,aAAa,GAAS;EACxB,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACP,OAAOA,KAAK;EAChB;EACA,OAAO,IAAI;AACf,CAAC;AACD,IAAMG,eAAe,GAAG;EAAEC,eAAe,EAAG,KAAK;EAAEJ,KAAK,EAAE;AAAK,CAAC;AAChE,IAAMK,SAAS,GAAGP,WAAW,CAAC;EAC1BQ,IAAI,EAAE,gBAAgB;EACtBC,YAAY,EAAEJ,eAAe;EAC7BK,QAAQ,EAAE;IACNC,KAAK,iBAACC,KAAK,EAAEC,MAAM,EAAE;MACjB,IAAMX,KAAK,GAAGD,aAAa,EAAE;MAC7B,IAAIC,KAAK,EAAE;QACPU,KAAK,CAACN,eAAe,GAAG,IAAI;QAC5BM,KAAK,CAACV,KAAK,GAAGA,KAAK;MACvB;MACAC,YAAY,CAACW,OAAO,CAAC,OAAO,EAAED,MAAM,CAACE,OAAO,CAACb,KAAK,CAAC;MACnDU,KAAK,CAACV,KAAK,GAAGW,MAAM,CAACE,OAAO,CAACb,KAAK;MAClCU,KAAK,CAACN,eAAe,GAAG,IAAI;IAChC,CAAC;IACDU,MAAM,kBAACJ,KAAK,EAAE;MACVT,YAAY,CAACc,UAAU,CAAC,OAAO,CAAC;MAChCL,KAAK,CAACN,eAAe,GAAG,KAAK;MAC7BM,KAAK,CAACV,KAAK,GAAG,IAAI;IACtB;EACJ;AACJ,CAAC,CAAC;AACF,OAAO,IAAMgB,WAAW,GAAGX,SAAS,CAACY,OAAO;AAC5C,eAAeZ,SAAS,CAACa,OAAO"},"metadata":{},"sourceType":"module"}